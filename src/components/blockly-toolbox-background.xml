<category name="Background" colour="#ffa500">
    <category name="Select next background" colour="#ffa500">
        <block type="event_block">
        <field name="EVENT">gameplay_start</field>
        <statement name="DO">
            <block type="variables_set">
            <field name="VAR">Level Number</field>
            <value name="VALUE">
                <block type="background_select">
                <field name="VAR">1</field>
                </block>
            </value>
            </block>
        </statement>
        <next>
            <block type="controls_if">
            <value name="IF0">
                <block type="input_joy0_get">
                <field name="VAR">joy0up</field>
                </block>
            </value>
            <statement name="DO0">
                <block type="sprite_player0_change">
                <field name="VAR">player0y</field>
                <value name="DELTA">
                    <shadow type="math_number">
                    <field name="NUM">-1</field>
                    </shadow>
                </value>
                </block>
            </statement>
            <next>
                <block type="controls_if">
                <value name="IF0">
                    <block type="logic_compare">
                    <field name="OP">LT</field>
                    <value name="A">
                        <block type="sprite_player0_get">
                        <field name="VAR">player0y</field>
                        </block>
                    </value>
                    <value name="B">
                        <block type="math_number">
                        <field name="NUM">1</field>
                        </block>
                    </value>
                    </block>
                </value>
                <statement name="DO0">
                    <block type="sprite_player0_set">
                    <field name="VAR">player0y</field>
                    <value name="VALUE">
                        <shadow type="math_number">
                        <field name="NUM">50</field>
                        </shadow>
                    </value>
                    <next>
                        <block type="math_change">
                        <field name="VAR">Level Number</field>
                        <value name="DELTA">
                            <shadow type="math_number">
                            <field name="NUM">1</field>
                            </shadow>
                        </value>
                        <next>
                            <block type="background_set">
                            <value name="VALUE">
                                <shadow type="background_select">
                                <field name="VAR">1</field>
                                </shadow>
                                <block type="variables_get">
                                <field name="VAR">Level Number</field>
                                </block>
                            </value>
                            </block>
                        </next>
                        </block>
                    </next>
                    </block>
                </statement>
                </block>
            </next>
            </block>
        </next>
        </block>
    </category>

    <category name="Sweeep left to right while flipping" colour="#ffa500">    
        <variables>
            <variable id="@TCo}exxrx-J#3(biI(Y">Block X Coord</variable>
        </variables>
        <block type="controls_if" id="+*ts+zXv?gw4m1ZI,{ZY" x="138" y="-62">
            <value name="IF0">
                <block type="logic_compare" id="c@QEmdoI`CwM{f7|Zwkx">
                    <field name="OP">GT</field>
                    <value name="A">
                        <block type="variables_get" id="UP|-hg}`L5i!{h[EMAW)">
                            <field name="VAR" id="@TCo}exxrx-J#3(biI(Y">Block X Coord</field>
                        </block>
                    </value>
                    <value name="B">
                        <block type="math_number" id="dd{v`:6F0oG-I7OZ7f0i">
                            <field name="NUM">30</field>
                        </block>
                    </value>
                </block>
            </value>
            <statement name="DO0">
                <block type="variables_set" id="3k{hhH).C)K{W$OjB(9Y">
                    <field name="VAR" id="@TCo}exxrx-J#3(biI(Y">Block X Coord</field>
                    <value name="VALUE">
                        <block type="math_number" id="o{G?9?zqI,!;@2Ul^qS[">
                            <field name="NUM">0</field>
                        </block>
                    </value>
                </block>
            </statement>
            <next>
                <block type="background_change_pixel" id="v+liHqisp9V9^d=LOVF[">
                    <field name="OPERATION">flip</field>
                    <value name="X">
                        <shadow type="math_number">
                            <field name="NUM">0</field>
                        </shadow>
                        <block type="variables_get" id="R7k%9W6*1YiSL3l~;)NK">
                            <field name="VAR" id="@TCo}exxrx-J#3(biI(Y">Block X Coord</field>
                        </block>
                    </value>
                    <value name="Y">
                        <shadow type="math_number" id="BpAP2bL|crJBeru^(r$i">
                            <field name="NUM">5</field>
                        </shadow>
                    </value>
                    <next>
                        <block type="math_change" id="l$F.JTcbI,O[QkLZ6epM">
                            <field name="VAR" id="@TCo}exxrx-J#3(biI(Y">Block X Coord</field>
                            <value name="DELTA">
                                <shadow type="math_number" id="LOildk.r$GVc8,I=S4;2">
                                    <field name="NUM">1</field>
                                </shadow>
                            </value>
                        </block>
                    </next>
                </block>
            </next>
        </block>
    </category>

    <category name="Change colors according to switches" colour="#ffa500">    
    
        <block type="controls_if">
            <value name="IF0">
                <block type="input_console_switch_get">
                    <field name="SWITCH">switchreset</field>
                </block>
            </value>
            <statement name="DO0">
                <block type="background_set_color">
                    <field name="VAR">COLUPF</field>
                    <value name="VALUE">
                        <shadow type="color_get">
                            <field name="COLOR">30</field>
                        </shadow>
                    </value>
                </block>
            </statement>
            <next>
                <block type="controls_if">
                    <value name="IF0">
                        <block type="input_console_switch_get">
                            <field name="SWITCH">switchselect</field>
                        </block>
                    </value>
                    <statement name="DO0">
                        <block type="background_set_color">
                            <field name="VAR">COLUPF</field>
                            <value name="VALUE">
                                <shadow type="color_get">
                                    <field name="COLOR">50</field>
                                </shadow>
                            </value>
                        </block>
                    </statement>
                    <next>
                        <block type="controls_if">
                            <value name="IF0">
                                <block type="input_console_switch_get">
                                    <field name="SWITCH">not switchbw</field>
                                </block>
                            </value>
                            <statement name="DO0">
                                <block type="background_set_color">
                                    <field name="VAR">COLUBK</field>
                                    <value name="VALUE">
                                        <shadow type="color_get">
                                            <field name="COLOR">210</field>
                                        </shadow>
                                    </value>
                                </block>
                            </statement>
                            <next>
                                <block type="controls_if">
                                    <value name="IF0">
                                        <block type="input_console_switch_get">
                                            <field name="SWITCH">switchbw</field>
                                        </block>
                                    </value>
                                    <statement name="DO0">
                                        <block type="background_set_color">
                                            <field name="VAR">COLUBK</field>
                                            <value name="VALUE">
                                                <shadow type="color_get">
                                                    <field name="COLOR">4</field>
                                                </shadow>
                                            </value>
                                        </block>
                                    </statement>
                                </block>
                            </next>
                        </block>
                    </next>
                </block>
            </next>
        </block>
    
    </category>

    <category name="Scroll with joystick" colour="#ffa500">

        <block type="controls_if">
            <value name="IF0">
                <block type="input_joy0_get">
                    <field name="VAR">joy0down</field>
                </block>
            </value>
            <statement name="DO0">
                <block type="controls_if">
                    <mutation else="1"></mutation>
                    <value name="IF0">
                        <block type="input_joy0_get">
                            <field name="VAR">joy0fire</field>
                        </block>
                    </value>
                    <statement name="DO0">
                        <block type="background_scroll">
                            <field name="DIRECTION">upup</field>
                        </block>
                    </statement>
                    <statement name="ELSE">
                        <block type="background_scroll">
                            <field name="DIRECTION">up</field>
                        </block>
                    </statement>
                </block>
            </statement>
            <next>
                <block type="controls_if">
                    <value name="IF0">
                        <block type="input_joy0_get">
                            <field name="VAR">joy0up</field>
                        </block>
                    </value>
                    <statement name="DO0">
                        <block type="controls_if">
                            <mutation else="1"></mutation>
                            <value name="IF0">
                                <block type="input_joy0_get">
                                    <field name="VAR">joy0fire</field>
                                </block>
                            </value>
                            <statement name="DO0">
                                <block type="background_scroll">
                                    <field name="DIRECTION">downdown</field>
                                </block>
                            </statement>
                            <statement name="ELSE">
                                <block type="background_scroll">
                                    <field name="DIRECTION">down</field>
                                </block>
                            </statement>
                        </block>
                    </statement>
                    <next>
                        <block type="controls_if">
                            <value name="IF0">
                                <block type="input_joy0_get">
                                    <field name="VAR">joy0left</field>
                                </block>
                            </value>
                            <statement name="DO0">
                                <block type="background_scroll">
                                    <field name="DIRECTION">right</field>
                                </block>
                            </statement>
                            <next>
                                <block type="controls_if">
                                    <value name="IF0">
                                        <block type="input_joy0_get">
                                            <field name="VAR">joy0right</field>
                                        </block>
                                    </value>
                                    <statement name="DO0">
                                        <block type="background_scroll">
                                            <field name="DIRECTION">left</field>
                                        </block>
                                    </statement>
                                </block>
                            </next>
                        </block>
                    </next>
                </block>
            </next>
        </block>

    </category>
</category>
